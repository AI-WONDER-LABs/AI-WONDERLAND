/* Simple DataTables integration with CircleCI theme */

/* Simple DataTables wrapper styling */
.dataTable-wrapper {
  @apply mt-4 mb-6;
}

/* Add spacing above the top controls - this one we know works with lowercase */
.datatable-top {
  @apply mt-6;
}

/* Search box styling - matches header search exactly */
.datatable-search input,
.datatable-input {
  @apply focus:outline-none focus:ring-2 focus:ring-vapor focus:border-transparent;
  @apply py-2 pl-3 pr-4 border border-vapor rounded-full text-sm;
  @apply w-64 max-w-xs;
}

/* Allow the browser's default search clear button */

.dataTable-search input {
  @apply px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm;
  @apply w-full max-w-xs;
}

/* Length selector styling */
.dataTable-dropdown {
  @apply mb-4;
}

.dataTable-dropdown label {
  @apply flex items-center gap-2 text-sm font-medium text-gray-700;
}

.dataTable-dropdown select {
  @apply mx-2 px-2 py-1 border border-gray-300 rounded text-sm;
}

/* Info text styling */
.dataTable-info {
  @apply text-sm text-gray-600 py-2;
}

/* Pagination styling */
.dataTable-pagination {
  @apply py-2;
}

.dataTable-pagination ul {
  @apply flex items-center gap-1;
}

.dataTable-pagination li {
  @apply list-none;
}

.dataTable-pagination a {
  @apply inline-block px-3 py-1 text-sm border border-gray-300 rounded cursor-pointer;
  @apply hover:bg-gray-50 transition-colors no-underline;
}

.dataTable-pagination .active a {
  @apply bg-blue-600 text-white border-blue-600;
  @apply hover:bg-blue-700;
}

.dataTable-pagination .disabled a {
  @apply opacity-50 cursor-not-allowed;
  @apply hover:bg-transparent;
}

/* Table styling enhancements */
table.datatable {
  @apply w-full border-collapse;
}

table.datatable thead th {
  @apply px-4 py-3 text-left border-b border-gray-200;
}

table.datatable thead th:hover {
  @apply bg-gray-100;
}

/* Simple DataTables handles sorting indicators automatically */
table.datatable thead th[data-sortable] {
  @apply cursor-pointer select-none;
  min-width: 80px; /* Minimum width to prevent overlap */
}

table.datatable thead th[data-sortable]:hover {
  @apply bg-gray-100;
}

/* Style the datatable-sorter button with DataTables-style arrows */
table.datatable thead th .datatable-sorter {
  @apply w-full text-left bg-transparent border-0 p-0;
  @apply hover:bg-transparent focus:outline-none cursor-pointer;
  @apply pr-6 transition-colors; /* Add right padding to make room for sort arrows */
  position: relative;
}

/* DataTables-style sorting indicators */
table.datatable thead th[data-sortable="true"] .datatable-sorter::before {
  content: '';
  @apply absolute right-2;
  top: calc(50% - 9px);
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-bottom: 4px solid #d1d5db;
}

table.datatable thead th[data-sortable="true"] .datatable-sorter::after {
  content: '';
  @apply absolute right-2 top-1/2 transform -translate-y-1/2;
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 4px solid #d1d5db;
}

table.datatable thead th[data-sortable="true"]:hover .datatable-sorter::after,
table.datatable thead th[data-sortable="true"]:hover .datatable-sorter::before {
  border-top-color: #9ca3af;
  border-bottom-color: #9ca3af;
}

table.datatable tbody td {
  @apply px-4 py-3 border-b border-gray-200;
}

table.datatable tbody tr:hover {
  @apply bg-gray-50;
}

/* Responsive table styling */
@media (max-width: 768px) {
  .dataTable-wrapper .dataTable-search,
  .dataTable-wrapper .dataTable-dropdown {
    @apply text-center;
  }

  .dataTable-wrapper .dataTable-search input {
    @apply w-full mt-2;
  }
}

/* Loading state */
.dataTable-loading {
  @apply fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2;
  @apply bg-white border border-gray-300 rounded-lg px-4 py-2 shadow-lg;
  @apply text-sm text-gray-600;
}

/* No data message */
.dataTable-empty {
  @apply text-center py-8 text-gray-500;
}

/* Integration with existing table styles */
.table-scroll .dataTable-wrapper {
  @apply overflow-x-auto;
}
