= Audit Log Streaming
:page-platform: Cloud
:page-description: "This document explains how to stream CircleCI audit logs to an S3 bucket."
:experimental:

[#overview]
== Overview
The CircleCI Audit Log Streaming feature provides enterprise organizations with a solution for streaming audit logs directly to their own AWS S3 buckets. This enables organizations to maintain comprehensive security visibility, meet compliance requirements, and integrate CircleCI audit data with their existing security monitoring infrastructure.

[#prerequisites]
== Prerequisites

Before setting up audit log streaming, ensure you have:

* CircleCI Enterprise/Scale plan (not available to Free or Performance customers)
* AWS account with permissions to create and manage S3 buckets
* IAM role or user with appropriate S3 write permissions
* Network configuration to allow secure connections between CircleCI and AWS

[#configure-audit-log-streaming]
== Configure Audit Log Streaming

. Navigate to menu:Organization Settings[Security].
. Scroll down to the **Audit Logs > Streaming audit logs** section and select btn:[Stream audit logs].
+
image::guides:ROOT:stream-audit-logs.png[Stream audit logs section]

. Confirm that you have completed the prerequisites by selecting btn:[Continue].
+
image::guides:ROOT:confirm-prerequisites.png[Confirm prerequisites completion]

. In the configuration dialog, specify the following fields:
.. **Region**: The AWS region where your S3 bucket is located.
.. **S3 Bucket Name**: The name of the S3 bucket where audit logs will be streamed.
.. **ARN Role ID**: The Amazon Resource Name (ARN) for the IAM role that CircleCI will use to access your S3 bucket.

. Select btn:[Connect CircleCI to AWS].
+
image::guides:ROOT:connect-circleci-aws.png[Connect CircleCI to AWS]

. When the connection to your S3 bucketis successfully validated, a  **Connection Successful** label with a green checkmark appears under **Status**.
+
image::guides:ROOT:s3bucket-connected.png[S3 Connection successful]


[#verification-and-testing]
== Verification and Testing

After setting up audit log streaming:

. Verify successful streaming by checking the **Last delivery** timestamp.
. Confirm logs are appearing in your designated S3 bucket.
. Test integrations with your SIEM or security monitoring tools.
. Set up appropriate alerts for connection failures or delivery interruptions.


[#managing-active-streams]
== Managing Active Streams

Once configured, you can view and manage audit log streams.

- **Pause Streaming**: Use the toggle switch to temporarily disable log streaming.
- **Monitor Delivery**: Check the **Last delivery** field to verify recent successful deliveries.
- **Delete Configuration**: Select the trash icon to completely remove the streaming setup.
- **Restart Streaming**: Toggle the switch to resume paused streams.


[#audit-event-coverage]
== Audit Event Coverage

All security-relevant events within CircleCI are captured and streamed, including:

* **User Authentication Events**: Logins, failed attempts, password changes
* **Authorization Changes**: Role assignments, permission updates
* **Project Configuration**: Modifications to project settings and configurations
* **Pipeline Execution**: Events related to pipeline runs and builds
* **Secrets and Context**: Modifications to sensitive data and execution contexts
* **Organization Management**: Team and organization-level administrative activities

[#service-availability]
== Service Availability

* **Plan Restrictions**: Audit log streaming is only available to CircleCI Enterprise and Scale plan customers. Free and Performance plan customers do not have access to this feature.

[#technical-limitations]
== Technical Limitations

* **Storage Platform**: Currently supports AWS S3 as the primary storage solution. Support for Google Cloud Storage and Azure Blob Storage is not available.
* **Delivery Latency**: While the target is to deliver logs within 1 hour, delivery may take up to 3 hours under certain conditions.


[#support-and-troubleshooting]
== Support and Troubleshooting

* **Configuration Issues**: Most problems are related to AWS IAM permissions or S3 bucket configuration.
* **Connection Failures**: If streaming shows as **Disconnected**, verify AWS credentials and permissions before contacting support.
+
Use the toggle switch to restart streaming once issues are resolved.
* **Missing Logs**: Ensure that your S3 bucket policies allow write access from CircleCI's service accounts.